#include <stdio.h>
#include <math.h>

float peval(Polynome p , float x){

/*
	Descrição: retorna o valor de p(x)
	Entrada: O polinômio p, e o valor de x;
	Saída: p(x);
	Autor: Luiz Eduardo Xavier
	Data: 15/09/2014
*/

	//Dicionário de dados
	float resp
	resp = (p.a9)*pow(x,9) + (p.a8)*pow(x,8) + (p.a7)*pow(x,7) + (p.a6)*pow(x,6) + (p.a5)*pow(x,5) + (p.a4)*pow(x,4) + (p.a3)*pow(x,3);
	resp += (p.a2)*pow(x,2) + (p.a1)*x + (p.a0); 
	return resp;
}

void printP(Polynome p){
/*
	Descrição: imprime p(x) na saída padrão;
	Entrada: O polinômio p;
	Saída: a impressão de p(x);
	Autor: Luiz Eduardo Xavier
	Data: 15/09/2014
*/
	printf("p(x) = ");
	if (p.a9 != 0) printf("%.2fx^9 ",p.a9);
	if (p.a8 < 0) printf("%.2fx^8 ",p.a8)
	else printf("+%.2fx^8 ",p.a8);
	if (p.a7 < 0) printf("%.2fx^7 ",p.a7)
	else printf("+%.2fx^7 ",p.a7);
	if (p.a6 < 0) printf("%.2fx^6 ",p.a6)
	else printf("+%.2fx^6 ",p.a6);
	if (p.a5 < 0) printf("%.2fx^5 ",p.a5)
	else printf("+%.2fx^5 ",p.a5);
	if (p.a4 < 0) printf("%.2fx^4 ",p.a4)
	else printf("+%.2fx^4 ",p.a4);
	if (p.a3 < 0) printf("%.2fx^3 ",p.a3)
	else printf("+%.2fx^3 ",p.a3);
	if (p.a2 < 0) printf("%.2fx^2 ",p.a2)
	else printf("+%.2fx^2 ",p.a2);
	if (p.a1 < 0) printf("%.2fx ",p.a1)
	else printf("+%.2fx ",p.a1);
	if (p.a0 < 0) printf("%.2f\n",p.a0)
	else printf("+%.2f\n",p.a0);
}

float roots(Polynome p){
	if ((p.grau == 1)||(p.grau == 2)) {
	} else 
		puts("O grau do polinômio deve ser inferior a (1 ou 2)");
}

void optionMenu(Polynome p){
/*
	Descrição: Menu de opções para trabalhar com um polinômio;
	Entrada: O polinômio p que será trabalhado;
	Saída: ---
	Autor: Luiz Eduardo Xavier;
	Data: 20/09/2014;
*/
	int resp = 0;
	while (resp != 0){
		printf("O que deseja fazer agora?\n");
		printf("(1) Mostra polinômio;\n");
		printf("(2) Modificar polinômio;\n");
		printf("(3) Calcular p(x);\n");
		printf("(4) Calcular raízes (o grau deve ser menor ou igual a 2);\n");
		printf("(5) Derivar polinômio;\n");
		printf("(6) Somar com outro polinômio;\n");
		printf("(7) Sair\n"); 
		printf(":/>");
		scanf("%d",&resp);
		switch (resp) {
			case 1:
				printP(p);
			break;
			case 2:
				modPoly(p);
			break;
			case 3:
				peval(p);
			break;
			case 4:
				roots(p);
			break;
			case 5:
				diff(p);
			break;
			case 6:
				sumP(p);
			break;
			default:
				if (resp != 7) printf("Opção inválida!");
			break;
		}
	}
}
